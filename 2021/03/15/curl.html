<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">How to get webservice times from curl</h1><p class="page-description">Get response times from curl for webservice debugging</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-03-15T00:00:00-05:00" itemprop="datePublished">
        Mar 15, 2021
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#curl linux debugging webex">curl linux debugging webex</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#how-to-get-times-from-curl">How to get times from curl</a></li>
<li class="toc-entry toc-h1"><a href="#resources">Resources</a></li>
</ul><h1 id="how-to-get-times-from-curl">
<a class="anchor" href="#how-to-get-times-from-curl" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to get times from curl</h1>

<p>We want to do a POST query to Webex APIs, and we want to measure the response time. To do that, we need to write a config file:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_redirect"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_redirect</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_namelookup"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_namelookup</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_connect"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_connect</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_appconnect"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_appconnect</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_pretransfer"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_pretransfer</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_starttransfer"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_starttransfer</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"time_total"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">time_total</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"size_request"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">size_request</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"size_upload"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">size_upload</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"size_download"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">size_download</span><span class="p">},</span><span class="err">\n</span><span class="w">
</span><span class="nl">"size_header"</span><span class="p">:</span><span class="w"> </span><span class="err">%</span><span class="p">{</span><span class="err">size_header</span><span class="p">}</span><span class="err">\n</span><span class="w">
</span><span class="p">}</span><span class="err">\n</span><span class="w">
</span></code></pre></div></div>

<p>Save it as curlFormat.txt, then you can run your curl query as</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
<span class="nt">-w</span> <span class="s2">"@curlFormat.txt"</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s2">"Authorization: Bearer xxxxxxxxxx"</span> <span class="se">\</span>
<span class="nt">-X</span> POST <span class="se">\</span>
<span class="nt">-d</span> <span class="s1">'{"roomId":"xxxxxxxxxxxx","text":"test"}'</span> <span class="se">\</span>
<span class="s1">'https://webexapis.com/v1/messages'</span>
</code></pre></div></div>

<h1 id="resources">
<a class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h1>
<p><a href="https://stackoverflow.com/questions/18215389/how-do-i-measure-request-and-response-times-at-once-using-curl">StackOverflow</a>
<a href="https://discuss.devopscube.com/t/how-to-find-response-time-using-curl-request/436">https://discuss.devopscube.com/t/how-to-find-response-time-using-curl-request/436</a></p>

  </div><a class="u-url" href="/2021/03/15/curl" hidden></a>
</article>
