<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Working with dates in Java</h1><p class="page-description">A post on how to work with dates in Java</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2015-05-11T00:00:00-05:00" itemprop="datePublished">
        May 11, 2015
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#java date time">java date time</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
</ul><p>I recovered an old post from 2012 on my previous blog.
Here I translated and updated the post.</p>

<p>Working with dates is not an easy task in a programming language.
Usually, because there is no standard (like it happens on databases) or sometimes, the standard is not implemented.
On 2012 I talked that <a href="http://www.joda.org/joda-time/">joda time</a> was planned to be the new data standard on Java, and in fact, in 2015, Joda time is the facto standard ( as they claim on their site):</p>

<blockquote>
  <p>Joda-Time is the de facto standard date and time library for Java. From Java SE 8 onwards, users are asked to migrate to java.time (JSR-310).</p>
</blockquote>

<p>I was interested in doing some calculations to check if a time point was inside a time interval or not. This is useful when implementing all Allen time operations.
Here you will find the <a href="http://www.iscas2007.org/~logan/521_f08/Doc/p832-allen.pdf">original paper from the ‘82</a>
And some more friendly approaches here:</p>
<ul>
  <li>
<a href="http://en.wikipedia.org/wiki/Allen's_interval_algebra">Allen’s algebra</a>.</li>
  <li>
<a href="http://www.ics.uci.edu/~alspaugh/cls/shr/allen.html">More Allen’s time intervals.</a>.</li>
</ul>

<p>Working with dates on Joda time is really easy:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">startDate</span> <span class="o">=</span> <span class="s">"18/09/2012"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">endDate</span> <span class="o">=</span> <span class="s">"22/09/2012"</span><span class="o">;</span>
<span class="c1">// datetime formatter, allows to read and write strings</span>
<span class="nc">DateTimeFormatter</span> <span class="n">dtf</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">DateTimeFormatterBuilder</span><span class="o">().</span>
                <span class="n">appendDayOfMonth</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span>
                <span class="n">appendLiteral</span><span class="o">(</span><span class="s">"/"</span><span class="o">).</span>
                <span class="n">appendMonthOfYear</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span>
                <span class="n">appendLiteral</span><span class="o">(</span><span class="s">"/"</span><span class="o">).</span>
                <span class="n">appendYear</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">4</span><span class="o">).</span><span class="na">toFormatter</span><span class="o">();</span>
 
 
<span class="nc">DateTime</span> <span class="n">start</span> <span class="o">=</span> <span class="n">dtf</span><span class="o">.</span><span class="na">parseDateTime</span><span class="o">(</span><span class="n">startDate</span><span class="o">);</span>
<span class="nc">DateTime</span> <span class="n">end</span> <span class="o">=</span> <span class="n">dtf</span><span class="o">.</span><span class="na">parseDateTime</span><span class="o">(</span><span class="n">endDate</span><span class="o">);</span>
       
<span class="kt">int</span> <span class="n">months</span> <span class="o">=</span> <span class="nc">Months</span><span class="o">.</span><span class="na">monthsBetween</span><span class="o">(</span><span class="n">start</span><span class="o">,</span> <span class="n">end</span><span class="o">).</span><span class="na">getMonths</span><span class="o">();</span>
    <span class="nc">DateTime</span> <span class="n">newdate</span> <span class="o">=</span> <span class="n">lastRule</span><span class="o">.</span><span class="na">plusDays</span><span class="o">(</span><span class="mi">28</span><span class="o">);</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span><span class="n">i</span><span class="o">&amp;</span><span class="n">lt</span><span class="o">;</span><span class="n">months</span><span class="o">;</span><span class="n">i</span><span class="o">++){</span>
        <span class="n">newdate</span> <span class="o">=</span> <span class="n">lastRule</span><span class="o">.</span><span class="na">plusDays</span><span class="o">(</span><span class="mi">28</span><span class="o">);</span>
            <span class="o">}</span>      
        <span class="nc">Interval</span> <span class="n">interval</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Interval</span><span class="o">(</span><span class="n">start</span><span class="o">,</span><span class="n">end</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">interval</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">newdate</span><span class="o">)){</span>         
            <span class="n">jTextArea2</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span>
<span class="s">"That day is included: "</span>
             <span class="o">+</span> <span class="n">dtf</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">newdate</span><span class="o">));</span>
        <span class="o">}</span><span class="k">else</span><span class="o">{</span>
            <span class="n">jTextArea2</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span>
<span class="s">"The day is not included: "</span>
           <span class="o">+</span> <span class="n">dtf</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">newdate</span><span class="o">));</span>
        <span class="o">}</span>
</code></pre></div></div>

  </div><a class="u-url" href="/2015/05/11/working-dates-java" hidden></a>
</article>
