<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">More on operations with folders in windows and linux</h1><p class="page-description">How to replicate folder structure in windows using robocopy and other commands in linux</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2015-05-25T00:00:00-05:00" itemprop="datePublished">
        May 25, 2015
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#folders windows linux">folders windows linux</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#replicate-folder-structure-on-windows">Replicate Folder Structure on Windows</a></li>
<li class="toc-entry toc-h2"><a href="#replicate-folder-structure-on-linux">Replicate folder structure on Linux</a></li>
</ul><p>Hi, recently I’ve been working on some issues dealing with folders on windows and on linux.
For instance,</p>
<h2 id="replicate-folder-structure-on-windows">
<a class="anchor" href="#replicate-folder-structure-on-windows" aria-hidden="true"><span class="octicon octicon-link"></span></a>Replicate Folder Structure on Windows</h2>
<p>With robocopy is really easy:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>robocopy <span class="s2">"Source"</span> <span class="s2">"Target"</span> /e /xf <span class="k">*</span>
</code></pre></div></div>

<p>For example:</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>robocopy <span class="s2">"C:</span><span class="se">\J</span><span class="s2">iveCopy"</span> <span class="nb">.</span> /e /xf <span class="k">*</span>
</code></pre></div></div>

<h2 id="replicate-folder-structure-on-linux">
<a class="anchor" href="#replicate-folder-structure-on-linux" aria-hidden="true"><span class="octicon octicon-link"></span></a>Replicate folder structure on Linux</h2>
<p>This requires a little bit of scripting, on bash it would be something like:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>TARGET <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="nb">cd </span>SOURCE<span class="p">;</span> find <span class="nb">.</span> <span class="nt">-type</span> d <span class="o">!</span> <span class="nt">-name</span> .<span class="o">)</span> | xargs <span class="nt">-i</span> <span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"{}"</span>
</code></pre></div></div>

<p>For instance:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /interfaces/client1 <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="nb">cd</span> /interfaces/client_orig<span class="p">;</span> find <span class="nb">.</span> <span class="nt">-type</span> d <span class="o">!</span> <span class="nt">-name</span> .<span class="o">)</span> | xargs <span class="nt">-i</span> <span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"{}"</span>
</code></pre></div></div>

<p>Recently I had also the need to rename all folders containing a given pattern, that is done with the following script:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find <span class="nb">.</span> <span class="nt">-iname</span> <span class="s2">"itfq*"</span> <span class="nt">-type</span> d <span class="nt">-execdir</span> bash <span class="nt">-c</span> <span class="s1">'mv "$1" "${1//itfq/itfp}"'</span> _ <span class="o">{}</span> <span class="se">\;</span> 
</code></pre></div></div>

<p>This script renames all folders that contains itfq pattern to itfp.</p>

  </div><a class="u-url" href="/2015/05/25/more-on-operations-with-folders-on-linux-and-windows" hidden></a>
</article>
